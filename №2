import sqlite3 as sl
import sqlalchemy as sqla
# from sqlalchemy import create_engine

con = sl.connect('my-test.db')

with con:
    con.execute("""
        DROP TABLE SNEAKERS1
    """)

with con:
    con.execute("""
        CREATE TABLE SNEAKERS1 (
            id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
            name TEXT,
            count INTEGER,
            manufacture TEXT,
            price FLOAT,
            size FLOAT
        );
    """)

engine = sqla.create_engine('sqlite:///my-test.db')
engine.connect()

while True:
    print('Что хотите сделать?\n'
          '1 - добавление\n'
          '2 - отображение всего\n'
          '3 - удалить позицию\n'
          '4 - статистика по позициям\n')
    command = input()
    if command == '1':
        print('Введите название кроссовок:')
        Name = input()
        print('Введите кол-во кроссовок:')
        Count = int(input())
        print('Введите производителя:')
        Manufacture = input()
        print('Введите цену:')
        Price = float(input())
        print('Введите размер:')
        Size = float(input())

        sql = 'INSERT INTO SNEAKERS1 (name, count, manufacture, price, size) values(?, ?, ?, ?, ?)'
        data = [
            (Name, Count, Manufacture, Price, Size)
        ]

        with con:
            con.executemany(sql, data)

        with con:
            data = con.execute("SELECT * FROM SNEAKERS1")
            for row in data:
                print(row)

    elif command == '2':
        with con:
            data = con.execute("SELECT * FROM SNEAKERS1")
            for row in data:
                print(row)

    elif command == '3':
        print('Введите id для удаления:')
        position_for_delete = input()
        str = "DELETE FROM SNEAKERS1 WHERE ID=" + position_for_delete
        with con:
            data = con.execute(str)

    elif command == '4':
        with con:
            data = con.execute("SELECT COUNT(id) FROM SNEAKERS1")
            for row in data:
                print(row[0])
